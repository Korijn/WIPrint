{"version":3,"sources":["webpack:///selector.js","webpack:///webpack/bootstrap e7c2e032230563b160ef?12fe*","webpack:///./src/selector.ts?405e"],"names":["define","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","require","FieldsSelector","lhs","rhs","index","this","dirty","LHS","Selector","RHS","push","_this","items","selected","map","remove","add","pop","up","down","top","bottom","click","list","ctrl","shift","select","input","SelectorItem","length","reverse","insertPosition","splice","sort","placeholder","forEach","newPositions","some","sel","mover","_a","apply","concat","topItems","unshift","position","min","reduce","a","b","Math","max","indexRef","item","sync","source"],"mappings":"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","file":"selector.js","sourcesContent":["define(function() { return /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var FieldsSelector = (function () {\r\n        function FieldsSelector(lhs, rhs, index, value) {\r\n            this.dirty = false;\r\n            this.LHS = new Selector(lhs, index, value || null);\r\n            this.RHS = new Selector(rhs, index, value || null);\r\n        }\r\n        FieldsSelector.prototype.push = function () {\r\n            var _this = this;\r\n            var items = this.LHS.selected.map(function (i) { return _this.LHS.items[i]; });\r\n            this.LHS.remove();\r\n            this.RHS.add(items);\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.pop = function () {\r\n            var _this = this;\r\n            var items = this.RHS.selected.map(function (i) { return _this.RHS.items[i]; });\r\n            this.RHS.remove();\r\n            this.LHS.add(items);\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.up = function () {\r\n            this.RHS.up();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.down = function () {\r\n            this.RHS.down();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.top = function () {\r\n            this.RHS.top();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.bottom = function () {\r\n            // this.dirty = true;\r\n            // this.check();\r\n        };\r\n        FieldsSelector.prototype.click = function (list, index, ctrl, shift) {\r\n            if (list === \"print\") {\r\n                this.RHS.select(index, ctrl || false, shift || false);\r\n            }\r\n            else {\r\n                this.LHS.select(index, ctrl || false, shift || false);\r\n            }\r\n        };\r\n        return FieldsSelector;\r\n    }());\r\n    exports.FieldsSelector = FieldsSelector;\r\n    var Selector = (function () {\r\n        function Selector(input, index, value) {\r\n            var _this = this;\r\n            this.index = index;\r\n            this.value = value;\r\n            this.items = input.map(function (i) { return new SelectorItem(i[_this.index], i[_this.value]); });\r\n            this.selected = [];\r\n        }\r\n        Selector.prototype.add = function (items) {\r\n            if (items.length > 0) {\r\n                items.reverse();\r\n                var insertPosition = this.selected[this.selected.length - 1] + 1 || this.items.length || 0;\r\n                this.selected = [];\r\n                for (var i = 0; i < items.length; i++) {\r\n                    this.items.splice(insertPosition, 0, items[i]);\r\n                    this.selected.push(insertPosition + i);\r\n                }\r\n            }\r\n        };\r\n        Selector.prototype.remove = function () {\r\n            var _this = this;\r\n            if (this.items.length > 0) {\r\n                this.selected.sort().reverse(); // remove last items first so positions of others do not change\r\n                var placeholder = this.selected[this.selected.length - 1 || 0];\r\n                this.selected.forEach(function (p) {\r\n                    _this.items.splice(p, 1);\r\n                });\r\n                this.selected = [];\r\n                if (placeholder !== 0) {\r\n                    this.selected = [\r\n                        this.items[placeholder] ? placeholder : placeholder - 1\r\n                    ];\r\n                }\r\n            }\r\n        };\r\n        Selector.prototype.up = function () {\r\n            var _this = this;\r\n            var newPositions = this.selected.map(function (s) {\r\n                if (s !== 0 && !_this.selected.some(function (sel) { return sel === s - 1; })) {\r\n                    var mover = _this.items.splice(s, 1);\r\n                    (_a = _this.items).splice.apply(_a, [s - 1, 0].concat(mover));\r\n                    return s - 1;\r\n                }\r\n                else {\r\n                    return s;\r\n                }\r\n                var _a;\r\n            });\r\n            this.selected = newPositions;\r\n        };\r\n        Selector.prototype.down = function () {\r\n            var _this = this;\r\n            var newPositions = this.selected.map(function (s) {\r\n                if (s < _this.items.length && !_this.selected.some(function (sel) { return sel === s + 1; })) {\r\n                    var mover = _this.items.splice(s, 1);\r\n                    (_a = _this.items).splice.apply(_a, [s + 1, 0].concat(mover));\r\n                    return s + 1;\r\n                }\r\n                else {\r\n                    return s;\r\n                }\r\n                var _a;\r\n            });\r\n            this.selected = newPositions;\r\n        };\r\n        Selector.prototype.top = function () {\r\n            var _this = this;\r\n            this.selected.sort().reverse();\r\n            var topItems = [];\r\n            this.selected.forEach(function (s) {\r\n                topItems.push(_this.items.splice(s, 1));\r\n            });\r\n            (_a = this.items).unshift.apply(_a, topItems);\r\n            this.selected = [];\r\n            for (var i = 0; i < topItems.length; i++) {\r\n                this.selected.push[i];\r\n            }\r\n            var _a;\r\n        };\r\n        Selector.prototype.bottom = function () { };\r\n        Selector.prototype.select = function (position, ctrl, shift) {\r\n            if (ctrl && !shift) {\r\n                this.selected.push(position);\r\n            }\r\n            else if (shift) {\r\n                this.selected.push(position);\r\n                var min = this.selected.reduce(function (a, b) { return Math.min(a, b); });\r\n                var max = this.selected.reduce(function (a, b) { return Math.max(a, b); });\r\n                this.selected = [];\r\n                for (var i = min; i <= max; i++) {\r\n                    this.selected.push(i);\r\n                }\r\n            }\r\n            else {\r\n                this.selected = [];\r\n                this.selected.push(position);\r\n            }\r\n        };\r\n        Selector.prototype.sort = function () {\r\n            var _this = this;\r\n            var indexRef = this.selected.map(function (s) {\r\n                return _this.items[s].index;\r\n            });\r\n            this.items.sort(function (a, b) { return (a.index > b.index ? 1 : -1); });\r\n            this.selected = indexRef.map(function (item) {\r\n                for (var i = 0; i < _this.items.length; i++) {\r\n                    if (_this.items[i].index === item) {\r\n                        return i;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        Selector.prototype.sync = function (source) {\r\n            // not implemented\r\n        };\r\n        return Selector;\r\n    }());\r\n    exports.Selector = Selector;\r\n    var SelectorItem = (function () {\r\n        function SelectorItem(index, value) {\r\n            this.index = index;\r\n            this.value = value || index;\r\n        }\r\n        return SelectorItem;\r\n    }());\r\n    exports.SelectorItem = SelectorItem;\r\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\n\n/***/ })\n/******/ ])});;\n\n\n// WEBPACK FOOTER //\n// selector.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e7c2e032230563b160ef","define([\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var FieldsSelector = (function () {\r\n        function FieldsSelector(lhs, rhs, index, value) {\r\n            this.dirty = false;\r\n            this.LHS = new Selector(lhs, index, value || null);\r\n            this.RHS = new Selector(rhs, index, value || null);\r\n        }\r\n        FieldsSelector.prototype.push = function () {\r\n            var _this = this;\r\n            var items = this.LHS.selected.map(function (i) { return _this.LHS.items[i]; });\r\n            this.LHS.remove();\r\n            this.RHS.add(items);\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.pop = function () {\r\n            var _this = this;\r\n            var items = this.RHS.selected.map(function (i) { return _this.RHS.items[i]; });\r\n            this.RHS.remove();\r\n            this.LHS.add(items);\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.up = function () {\r\n            this.RHS.up();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.down = function () {\r\n            this.RHS.down();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.top = function () {\r\n            this.RHS.top();\r\n            this.dirty = true;\r\n        };\r\n        FieldsSelector.prototype.bottom = function () {\r\n            // this.dirty = true;\r\n            // this.check();\r\n        };\r\n        FieldsSelector.prototype.click = function (list, index, ctrl, shift) {\r\n            if (list === \"print\") {\r\n                this.RHS.select(index, ctrl || false, shift || false);\r\n            }\r\n            else {\r\n                this.LHS.select(index, ctrl || false, shift || false);\r\n            }\r\n        };\r\n        return FieldsSelector;\r\n    }());\r\n    exports.FieldsSelector = FieldsSelector;\r\n    var Selector = (function () {\r\n        function Selector(input, index, value) {\r\n            var _this = this;\r\n            this.index = index;\r\n            this.value = value;\r\n            this.items = input.map(function (i) { return new SelectorItem(i[_this.index], i[_this.value]); });\r\n            this.selected = [];\r\n        }\r\n        Selector.prototype.add = function (items) {\r\n            if (items.length > 0) {\r\n                items.reverse();\r\n                var insertPosition = this.selected[this.selected.length - 1] + 1 || this.items.length || 0;\r\n                this.selected = [];\r\n                for (var i = 0; i < items.length; i++) {\r\n                    this.items.splice(insertPosition, 0, items[i]);\r\n                    this.selected.push(insertPosition + i);\r\n                }\r\n            }\r\n        };\r\n        Selector.prototype.remove = function () {\r\n            var _this = this;\r\n            if (this.items.length > 0) {\r\n                this.selected.sort().reverse(); // remove last items first so positions of others do not change\r\n                var placeholder = this.selected[this.selected.length - 1 || 0];\r\n                this.selected.forEach(function (p) {\r\n                    _this.items.splice(p, 1);\r\n                });\r\n                this.selected = [];\r\n                if (placeholder !== 0) {\r\n                    this.selected = [\r\n                        this.items[placeholder] ? placeholder : placeholder - 1\r\n                    ];\r\n                }\r\n            }\r\n        };\r\n        Selector.prototype.up = function () {\r\n            var _this = this;\r\n            var newPositions = this.selected.map(function (s) {\r\n                if (s !== 0 && !_this.selected.some(function (sel) { return sel === s - 1; })) {\r\n                    var mover = _this.items.splice(s, 1);\r\n                    (_a = _this.items).splice.apply(_a, [s - 1, 0].concat(mover));\r\n                    return s - 1;\r\n                }\r\n                else {\r\n                    return s;\r\n                }\r\n                var _a;\r\n            });\r\n            this.selected = newPositions;\r\n        };\r\n        Selector.prototype.down = function () {\r\n            var _this = this;\r\n            var newPositions = this.selected.map(function (s) {\r\n                if (s < _this.items.length && !_this.selected.some(function (sel) { return sel === s + 1; })) {\r\n                    var mover = _this.items.splice(s, 1);\r\n                    (_a = _this.items).splice.apply(_a, [s + 1, 0].concat(mover));\r\n                    return s + 1;\r\n                }\r\n                else {\r\n                    return s;\r\n                }\r\n                var _a;\r\n            });\r\n            this.selected = newPositions;\r\n        };\r\n        Selector.prototype.top = function () {\r\n            var _this = this;\r\n            this.selected.sort().reverse();\r\n            var topItems = [];\r\n            this.selected.forEach(function (s) {\r\n                topItems.push(_this.items.splice(s, 1));\r\n            });\r\n            (_a = this.items).unshift.apply(_a, topItems);\r\n            this.selected = [];\r\n            for (var i = 0; i < topItems.length; i++) {\r\n                this.selected.push[i];\r\n            }\r\n            var _a;\r\n        };\r\n        Selector.prototype.bottom = function () { };\r\n        Selector.prototype.select = function (position, ctrl, shift) {\r\n            if (ctrl && !shift) {\r\n                this.selected.push(position);\r\n            }\r\n            else if (shift) {\r\n                this.selected.push(position);\r\n                var min = this.selected.reduce(function (a, b) { return Math.min(a, b); });\r\n                var max = this.selected.reduce(function (a, b) { return Math.max(a, b); });\r\n                this.selected = [];\r\n                for (var i = min; i <= max; i++) {\r\n                    this.selected.push(i);\r\n                }\r\n            }\r\n            else {\r\n                this.selected = [];\r\n                this.selected.push(position);\r\n            }\r\n        };\r\n        Selector.prototype.sort = function () {\r\n            var _this = this;\r\n            var indexRef = this.selected.map(function (s) {\r\n                return _this.items[s].index;\r\n            });\r\n            this.items.sort(function (a, b) { return (a.index > b.index ? 1 : -1); });\r\n            this.selected = indexRef.map(function (item) {\r\n                for (var i = 0; i < _this.items.length; i++) {\r\n                    if (_this.items[i].index === item) {\r\n                        return i;\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        Selector.prototype.sync = function (source) {\r\n            // not implemented\r\n        };\r\n        return Selector;\r\n    }());\r\n    exports.Selector = Selector;\r\n    var SelectorItem = (function () {\r\n        function SelectorItem(index, value) {\r\n            this.index = index;\r\n            this.value = value || index;\r\n        }\r\n        return SelectorItem;\r\n    }());\r\n    exports.SelectorItem = SelectorItem;\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/selector.ts\n// module id = 1\n// module chunks = 1 2"],"sourceRoot":""}